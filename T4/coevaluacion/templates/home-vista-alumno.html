{% extends 'base.html' %}

{% block content %}

<div class="container mt-4"> <!-- Contenedor responsivo, se adapta a la pantalla con puntos de quiebre. -->

    <!-- Tablas de resumen -->
    <div class="row">
        <!-- Tabla de coevaluaciones -->
        <div class="col-md-9">
            <h4 class="d-inline-block mt-1">Últimas Coevaluaciones</h4>

            <div class="table-wrap table-responsive my-1"> <!-- "Envoltura" de la tabla -->
                <table class="table table-coeval table-striped table-hover mb-0"> <!-- Tabla -->
                    <!-- Encabezados de tabla (Table Headers) -->
                    <thead class="thead-light">
                        <tr> <!-- Fila (Table Row) -->
                            <th class="th-fecha">Fecha inicio</th>
                            <th class="th-titulo">Nombre</th>
                            <th class="th-curso">Curso</th>
                            <th class="th-semestre">Sem</th>
                            <th class="th-fecha">Fecha límite</th>
                            <th class="th-estado">Estado</th>
                            <th class="th-iconos"></th>
                        </tr>
                    </thead>

                    <!-- Cuerpo de tabla (Table Data) -->
                    <tbody>
                        <tr class="tr-pendiente"> <!-- Fila destacada como Pendiente -->
                            <!-- Fecha de inicio -->
                            <td class="td-fecha">
                                20:01 01/12/18
                            </td>
                            <!-- Título de coevaluación -->
                            <td>Tarea final</td>
                            <!-- Curso, con ícono de rol, nombre y código -->
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Proyecto de Software</span>
                                <br>
                                <span class="curso-codigo">CC5402-1</span>
                            </td>
                            <!-- Semestre -->
                            <td>2018-2</td>
                            <!-- Fecha de término -->
                            <td class="td-fecha">
                                23:59 20/12/18
                            </td>
                            <!-- Estado -->
                            <td>Pendiente</td>
                            <!-- Ícono de acción (responder) -->
                            <td class="td-icon">
                                <a href="#" title="Responder coevaluación"><img class="clickable-icon answer-icon wiggle" src="../../icon/answer-icon.png" alt="Responder coevaluación" width="28" height="28"></a>
                            </td>
                        </tr>
                        <tr class="tr-pendiente">
                            <td class="td-fecha">
                                12:03 11/11/18
                            </td>
                            <td>Tarea con nombre muy largo que ocupa todo el espacio</td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Proyecto de Software</span>
                                <br>
                                <span class="curso-codigo">CC5402-1</span>
                            </td>
                            <td>2018-2</td>
                            <td class="td-fecha">
                                23:59 21/11/18
                            </td>
                            <td>Pendiente</td>
                            <td class="td-icon">
                                <a href="#" title="Responder coevaluación"><img class="clickable-icon answer-icon wiggle" src="../../icon/answer-icon.png" alt="Responder coevaluación" width="28" height="28"></a>
                            </td>
                        </tr>
                        <tr>
                            <td class="td-fecha">15:15 10/11/18</td>
                            <td>Trabajo Grupal 1</td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Proyecto de Software</span>
                                <br>
                                <span class="curso-codigo">CC5402-1</span>
                            </td>
                            <td>2018-2</td>
                            <td class="td-fecha">23:59 19/11/18</td>
                            <td>Cerrada</td>
                            <td class="td-icon">
                            </td>
                        </tr>
                        <tr>
                            <td class="td-fecha">
                                20:45 04/06/18
                            </td>
                            <td>Tarea 1</td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Ingeniería de Software II</span>
                                <br>
                                <span class="curso-codigo">CC5401-1</span>
                            </td>
                            <td>2018-1</td>
                            <td class="td-fecha">
                                23:59 11/06/18
                            </td>
                            <td>Publicada</td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td class="td-fecha">16:27 26/05/18</td>
                            <td>Presentación Final</td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Ingeniería de Software II</span>
                                <br>
                                <span class="curso-codigo">CC5401-1</span>
                            </td>
                            <td>2018-1</td>
                            <td class="td-fecha">23:59 03/06/18</td>
                            <td>Publicada</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="td-fecha">10:28 01/06/17</td>
                            <td>Tarea 2</td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Ingeniería de Software I</span>
                                <br>
                                <span class="curso-codigo">CC4401-1</span>
                            </td>
                            <td>2017-1</td>
                            <td class="td-fecha">23:59 08/06/17</td>
                            <td>Publicada</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="td-fecha">03:32 15/05/17</td>
                            <td>Tarea 1</td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Ingeniería de Software I</span>
                                <br>
                                <span class="curso-codigo">CC4401-1</span>
                            </td>
                            <td>2017-1</td>
                            <td class="td-fecha">23:59 21/05/17</td>
                            <td>Publicada</td>
                            <td></td>
                        </tr>
                        {% for coev in coevs %}
                        <tr>
                            <td class="td-fecha">{{ coev.init_date }}</td>
                            <td><a href="{% url 'coevaluation' coev.id %}">{{ coev.name }}</a></td>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">{{ coev.course.code.name }}</span>
                                <br>
                                <span class="curso-codigo">{{ coev.course.code.code }}</span>
                            </td>
                            <td>{{ coev.course.year }}</td>
                            <td class="td-fecha">{{ coev.end_date }}</td>
                            <td></td>
                            <td></td>
                        </tr>
                        {% endfor %}

                        <!-- Filas vacías, placeholder -->
                        <tr style="height: 38px;"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr style="height: 38px;"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr style="height: 38px;"><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- Tabla de cursos -->
        <div class="col-md-3 mb-3">
            <h4 class="d-inline-block mt-1">Tus Cursos</h4>

            <div class="table-wrap table-responsive my-1">
                <table class="table table-cursos table-striped table-hover mb-0">
                    <!-- Encabezados de tabla (Table Headers) -->
                    <thead class="thead-light">
                        <tr>
                            <th>Curso</th>
                            <th class="th-semestre">Sem</th>
                        </tr>
                    </thead>
                    <!-- Cuerpo de tabla (Table Data) -->
                    <tbody>
                        <tr>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Proyecto de Software</span>
                                <br>
                                <span class="curso-codigo">CC5402-1</span>
                            </td>
                            <td>2018-2</td>
                        </tr>
                        <tr>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Ingeniería de Software II</span>
                                <br>
                                <span class="curso-codigo">CC5401-1</span>
                            </td>
                            <td>2018-1</td>
                        </tr>
                        <tr>
                            <td class="td-curso-full">
                                <div class="cargos cargos-alumno tooltip-custom">
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">Ingeniería de Software I</span>
                                <br>
                                <span class="curso-codigo">CC4401-1</span>
                            </td>
                            <td>2017-1</td>
                        </tr>
                    {% for uic in userInCourse %}
                        <tr>
                            <td class="td-curso-full">
                                {% if uic.rol == uic.PROFESOR %}
                                <div class="cargos cargos-profesor cargos tooltip-custom">
                                {% elif uic.rol == uic.AUXILIAR_TEACHER %}
                                <div class="cargos cargos-auxiliar cargos tooltip-custom">
                                {% elif uic.rol == uic.AYUDANTE %}
                                <div class="cargos cargos-ayudante cargos tooltip-custom">
                                {% else %}
                                <div class="cargos cargos-alumno cargos tooltip-custom">
                                {% endif %}
                                    <span class="tooltiptext"></span>
                                </div>
                                <span class="curso-nombre">{{ uic.course.code.name }}</span>
                                <br>
                                <span class="curso-codigo">{{ uic.course.code.code }}-{{ uic.course.section_number }}</span>
                            </td>
                            <td>{{ uic.course.year }}-{{ uic.course.semester }}</td>
                        </tr>
                    {% endfor %}

                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>
{% endblock %}
